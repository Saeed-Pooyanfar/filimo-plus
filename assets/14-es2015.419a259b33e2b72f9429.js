(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{QtGm:function(t,a,e){"use strict";e.r(a),e.d(a,"TagModule",(function(){return y}));var n=e("tyNb"),i=e("d8ZE"),r=e("fXoL"),s=e("VHXb"),o=e("AytR"),c=e("tk/3");let l=(()=>{class t{constructor(t){this.http=t}getList(t){return this.http.post(o.a.baseUrl+"/tag/index",{tag:t})}next(t){return this.http.post(o.a.baseUrl+"/tag/next",{next:t})}}return t.\u0275fac=function(a){return new(a||t)(r.Qb(c.b))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac}),t})();var b=e("73Ib"),g=e("FLaK"),p=e("ofXK"),d=e("ySUH");function u(t,a){if(1&t){const t=r.Nb();r.Mb(0,"app-infinite-scroll",4),r.Tb("loadingChange",(function(a){return r.Zb(t),r.Vb().infiniteScroll.loading=a})),r.Lb()}if(2&t){const t=r.Vb(),a=r.Yb(2);r.Wb("container",a)("disable",t.infiniteScroll.disable)("callback",t.infiniteScroll.callback)("loading",t.infiniteScroll.loading)}}let f=(()=>{class t{constructor(t,a,e){this.appData=t,this.tagService=a,this.activatedRoute=e}ngOnInit(){this.tag=this.activatedRoute.snapshot.data.tag,this.infiniteScroll={disable:!this.tag.next,loading:!1,callback:()=>{this.tagService.next(this.tag.next).subscribe({next:t=>{i.a.i("TagService#next",t),t.success&&(this.tag.list=this.tag.list.concat(t.data.list),this.tag.next=t.data.next,this.infiniteScroll.disable=!this.tag.next)},error:t=>{i.a.e("TagService#next",t)},complete:()=>{this.infiniteScroll.loading=!1}})}}}ngOnDestroy(){const t=this.appData.tag.findIndex(t=>t.tag===this.tag.tag);1!==t&&(this.appData.tag[t]=this.tag)}}return t.\u0275fac=function(a){return new(a||t)(r.Hb(s.a),r.Hb(l),r.Hb(n.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-tag"]],decls:5,vars:3,consts:[[1,"body","vertical-padding"],["scrollContainer",""],[3,"includeTagLink","item"],[3,"container","disable","callback","loading","loadingChange",4,"ngIf"],[3,"container","disable","callback","loading","loadingChange"]],template:function(t,a){if(1&t&&(r.Ib(0,"app-toolbar"),r.Mb(1,"div",0,1),r.Ib(3,"app-grid",2),r.ec(4,u,1,4,"app-infinite-scroll",3),r.Lb()),2&t){const t=r.Yb(2);r.xb(3),r.Wb("includeTagLink",!1)("item",a.tag),r.xb(1),r.Wb("ngIf",t)}},directives:[b.a,g.a,p.i,d.a],styles:[""]}),t})();var h=e("mrSG"),v=e("vnd8");let x=(()=>{class t{constructor(t,a){this.appData=t,this.tagService=a}resolve(t,a){const e=t.paramMap.get("id")||"";return new Promise((t,a)=>{const n=this.appData.tag.find(t=>t.tag===e);n?t(n):this.tagService.getList(e).subscribe({next:e=>{if(i.a.i("TagResolver#resolve",e),e.success)return this.appData.tag.push(e.data),void t(e.data);a(new Error(e.message))},error:t=>{a(new Error(t))}})})}}return t.\u0275fac=function(a){return new(a||t)(r.Qb(s.a),r.Qb(l))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac}),Object(h.c)([Object(v.a)()],t.prototype,"resolve",null),t})();const m=[{path:"",component:f,resolve:{tag:x}}];let S=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(a){return new(a||t)},imports:[[n.g.forChild(m)],n.g]}),t})();var w=e("PCNd");let y=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(a){return new(a||t)},providers:[l,x],imports:[[w.a,S]]}),t})()}}]);