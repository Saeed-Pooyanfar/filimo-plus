(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{KcLm:function(n,t,o){"use strict";o.r(t),o.d(t,"DownloadModule",(function(){return v}));var e=o("tyNb"),i=o("mrSG"),c=o("cExE"),a=o("d8ZE"),r=o("AytR"),d=o("fXoL"),g=o("tk/3");let l=(()=>{class n{constructor(n){this.http=n}getList(){return this.http.post(r.a.baseUrl+"/download/list",{}).toPromise()}cancelDownload(n){return this.http.post(r.a.baseUrl+"/download/cancel",{id:n})}}return n.\u0275fac=function(t){return new(t||n)(d.Qb(g.b))},n.\u0275prov=d.Db({token:n,factory:n.\u0275fac}),n})();var s=o("73Ib"),m=o("ofXK");const b=["dialogElement"];function _(n,t){1&n&&(d.Mb(0,"div",12),d.Mb(1,"span"),d.fc(2,"\u0641\u06cc\u0644\u0645\u06cc \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f!!"),d.Lb(),d.Lb())}function p(n,t){if(1&n&&(d.Mb(0,"div",26),d.Mb(1,"div",27),d.Mb(2,"div",28),d.Ib(3,"img",29),d.Lb(),d.Lb(),d.Lb()),2&n){const n=d.Vb().$implicit;d.xb(1),d.Wb("routerLink","/play/"+n.id+"/file")}}function f(n,t){if(1&n&&(d.Kb(0),d.Mb(1,"a",30),d.Mb(2,"button",31),d.fc(3,"Subtitle"),d.Lb(),d.Lb(),d.Jb()),2&n){const n=d.Vb(2).$implicit,t=d.Vb(2);d.xb(1),d.Wb("href",t.baseUrl+n.subtitle,d.ac)}}function M(n,t){if(1&n&&(d.Kb(0),d.Mb(1,"a",30),d.Mb(2,"button",31),d.fc(3,"Movie"),d.Lb(),d.Lb(),d.ec(4,f,4,1,"ng-container",24),d.Jb()),2&n){const n=d.Vb().$implicit,t=d.Vb(2);d.xb(1),d.Wb("href",t.baseUrl+n.movie,d.ac),d.xb(3),d.Wb("ngIf",n.subtitle)}}function h(n,t){if(1&n){const n=d.Nb();d.Kb(0),d.Mb(1,"button",32),d.Tb("click",(function(){d.Zb(n);const t=d.Vb().index;return d.Vb(2).openDialog(t)})),d.fc(2,"Cancel"),d.Lb(),d.Jb()}if(2&n){const n=d.Vb().$implicit;d.xb(1),d.Wb("disabled",n.deleted)}}function O(n,t){if(1&n&&(d.Mb(0,"div",33),d.Mb(1,"div",34),d.Mb(2,"span"),d.fc(3),d.Lb(),d.Lb(),d.Lb()),2&n){const n=d.Vb().$implicit;d.xb(1),d.dc("width",n.progress+"%"),d.xb(2),d.gc(n.progress+"%")}}function C(n,t){if(1&n&&(d.Mb(0,"div",15),d.Mb(1,"div",16),d.Mb(2,"div",17),d.Ib(3,"img",18),d.ec(4,p,4,1,"div",19),d.Lb(),d.Lb(),d.Mb(5,"div",20),d.Mb(6,"div",21),d.Mb(7,"span"),d.fc(8),d.Lb(),d.Lb(),d.Mb(9,"div",22),d.Mb(10,"span"),d.fc(11),d.Lb(),d.Mb(12,"span"),d.fc(13,"\xa0"),d.Lb(),d.Mb(14,"span"),d.fc(15),d.Lb(),d.Lb(),d.Mb(16,"div",23),d.ec(17,M,5,2,"ng-container",24),d.ec(18,h,3,1,"ng-container",24),d.Lb(),d.ec(19,O,4,3,"div",25),d.Lb(),d.Lb()),2&n){const n=t.$implicit;d.zb("disable",n.deleted),d.xb(3),d.Wb("src",n.image,d.ac),d.xb(1),d.Wb("ngIf",!n.deleted&&100===n.progress),d.xb(4),d.gc(n.title),d.xb(3),d.gc(n.quality),d.xb(4),d.gc(n.resolution),d.xb(2),d.Wb("ngIf",100===n.progress),d.xb(1),d.Wb("ngIf",100!==n.progress),d.xb(1),d.Wb("ngIf",100!==n.progress)}}function P(n,t){if(1&n&&(d.Mb(0,"div",13),d.ec(1,C,20,10,"div",14),d.Lb()),2&n){const n=d.Vb();d.xb(1),d.Wb("ngForOf",n.items)}}const x=[{path:"",component:(()=>{class n{constructor(n){this.downloadService=n,this.items=[],this.selectedIndex=-1,this.baseUrl=r.a.baseUrl}set dialogElement(n){this.dialog=new c.a(n.nativeElement)}ngOnInit(){const n=()=>Object(i.b)(this,void 0,void 0,(function*(){try{const n=yield this.downloadService.getList();n.success&&n.data.forEach(n=>{const t=this.items.findIndex(t=>t.id===n.id);t>-1?this.items[t].progress=n.progress:this.items.push(n)})}catch(n){a.a.e("DownloadService#getList",n)}}));n(),this.timeout=setInterval(n,2e3)}ngOnDestroy(){clearInterval(this.timeout)}openDialog(n){this.selectedIndex=n,this.dialog.open()}closeDialog(){this.dialog.close()}cancelDownload(){this.closeDialog();const n=this.items[this.selectedIndex];n.deleted=!0,this.downloadService.cancelDownload(n.id).subscribe({next:n=>{a.a.i("DownloadService#cancelDownload",n)},error:n=>{a.a.e("DownloadService#cancelDownload",n)}})}}return n.\u0275fac=function(t){return new(t||n)(d.Hb(l))},n.\u0275cmp=d.Bb({type:n,selectors:[["app-download"]],viewQuery:function(n,t){var o;1&n&&d.cc(b,!0),2&n&&d.Xb(o=d.Ub())&&(t.dialogElement=o.first)},decls:26,vars:3,consts:[[1,"body"],["class","no-items-found",4,"ngIf"],["class","container",4,"ngIf"],[1,"mdc-dialog"],["dialogElement",""],[1,"mdc-dialog__container"],["role","alertdialog",1,"mdc-dialog__surface"],["id","my-dialog-title",1,"mdc-dialog__title"],["id","my-dialog-content",1,"mdc-dialog__content"],[1,"mdc-dialog__actions"],["type","button",1,"btn",3,"click"],[1,"mdc-dialog__scrim"],[1,"no-items-found"],[1,"container"],["class","row",3,"disable",4,"ngFor","ngForOf"],[1,"row"],[1,"col-2","text-center"],[1,"movie-image-container"],["alt","Movie image",1,"image",3,"src"],["class","overlay",4,"ngIf"],[1,"col-10","text-right"],[1,"title","vertical-padding"],[1,"quality","vertical-padding"],[1,"dl-box","vertical-padding"],[4,"ngIf"],["class","progress",4,"ngIf"],[1,"overlay"],[1,"match-parent","clickable",3,"routerLink"],[1,"play-icon"],["src","../../assets/images/play.svg","alt","Play icon"],["target","_blank",3,"href"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"progress"],["role","progressbar",1,"progress-bar","bg-success"]],template:function(n,t){1&n&&(d.Ib(0,"app-toolbar"),d.Mb(1,"div",0),d.ec(2,_,3,0,"div",1),d.ec(3,P,2,1,"div",2),d.Lb(),d.Mb(4,"div",3,4),d.Mb(6,"div",5),d.Mb(7,"div",6),d.Mb(8,"h2",7),d.Mb(9,"span"),d.fc(10,"\u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f"),d.Lb(),d.Lb(),d.Mb(11,"div",8),d.Mb(12,"span"),d.fc(13,"\u0622\u06cc\u0627 \u0645\u06cc\u062e\u0648\u0627\u0647\u06cc\u062f \u062f\u0627\u0646\u0644\u0648\u062f"),d.Lb(),d.Mb(14,"span"),d.fc(15),d.Lb(),d.Mb(16,"span"),d.fc(17,"\u0645\u062a\u0648\u0642\u0641 \u0648 \u062d\u0630\u0641 \u0634\u0648\u062f\u061f"),d.Lb(),d.Lb(),d.Mb(18,"footer",9),d.Mb(19,"button",10),d.Tb("click",(function(){return t.closeDialog()})),d.Mb(20,"span"),d.fc(21,"\u062e\u06cc\u0631"),d.Lb(),d.Lb(),d.Mb(22,"button",10),d.Tb("click",(function(){return t.cancelDownload()})),d.Mb(23,"span"),d.fc(24,"\u0628\u0644\u0647"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Ib(25,"div",11),d.Lb()),2&n&&(d.xb(2),d.Wb("ngIf",0===t.items.length),d.xb(1),d.Wb("ngIf",t.items.length>0),d.xb(12),d.hc('\xa0"',null==t.items[t.selectedIndex]?null:t.items[t.selectedIndex].title,'"\xa0'))},directives:[s.a,m.i,m.h,e.f],styles:['.mdc-elevation-overlay[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;opacity:0;pointer-events:none;transition:opacity .28s cubic-bezier(.4,0,.2,1);background-color:#fff}.mdc-dialog[_ngcontent-%COMP%], .mdc-dialog__scrim[_ngcontent-%COMP%]{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog[_ngcontent-%COMP%]{display:none;z-index:7}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--mdc-theme-surface,#fff)}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__scrim[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.32)}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__title[_ngcontent-%COMP%]{color:rgba(0,0,0,.87)}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__content[_ngcontent-%COMP%]{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable[_ngcontent-%COMP%]   .mdc-dialog__actions[_ngcontent-%COMP%], .mdc-dialog.mdc-dialog--scrollable[_ngcontent-%COMP%]   .mdc-dialog__title[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.12)}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{min-width:280px}@media (max-width:592px){.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{max-width:calc(100vw - 32px)}}@media (min-width:592px){.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{max-width:560px}}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{max-height:calc(100% - 32px)}.mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{border-radius:4px}.mdc-dialog__scrim[_ngcontent-%COMP%]{opacity:0;z-index:-1}.mdc-dialog__container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(.8);opacity:0;pointer-events:none}.mdc-dialog__surface[_ngcontent-%COMP%]{position:relative;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface[_ngcontent-%COMP%]   .mdc-elevation-overlay[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl][_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{text-align:right}.mdc-dialog__title[_ngcontent-%COMP%]{line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-headline6-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size,1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height,2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight,500);letter-spacing:.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing,.0125em);text-decoration:inherit;-webkit-text-decoration:var(--mdc-typography-headline6-text-decoration,inherit);text-decoration:var(--mdc-typography-headline6-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform,inherit);display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title[_ngcontent-%COMP%]:before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-dialog[dir=rtl][_ngcontent-%COMP%]   .mdc-dialog__title[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__title[_ngcontent-%COMP%]{text-align:right}.mdc-dialog--scrollable[_ngcontent-%COMP%]   .mdc-dialog__title[_ngcontent-%COMP%]{padding-bottom:15px}.mdc-dialog__content[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size,1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height,1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight,400);letter-spacing:.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing,.03125em);text-decoration:inherit;-webkit-text-decoration:var(--mdc-typography-body1-text-decoration,inherit);text-decoration:var(--mdc-typography-body1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform,inherit);flex-grow:1;box-sizing:border-box;margin:0;padding:20px 24px;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:0}.mdc-dialog__content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}.mdc-dialog__title[_ngcontent-%COMP%] + .mdc-dialog__content[_ngcontent-%COMP%]{padding-top:0}.mdc-dialog--scrollable[_ngcontent-%COMP%]   .mdc-dialog__content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mdc-dialog__content[_ngcontent-%COMP%]   .mdc-list[_ngcontent-%COMP%]:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable[_ngcontent-%COMP%]   .mdc-dialog__content[_ngcontent-%COMP%]   .mdc-list[_ngcontent-%COMP%]:first-child:last-child{padding:0}.mdc-dialog__actions[_ngcontent-%COMP%]{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked[_ngcontent-%COMP%]   .mdc-dialog__actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end}.mdc-dialog__button[_ngcontent-%COMP%]{margin-left:8px;margin-right:0;max-width:100%;text-align:right}.mdc-dialog__button[dir=rtl][_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .mdc-dialog__button[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}.mdc-dialog__button[_ngcontent-%COMP%]:first-child, .mdc-dialog__button[_ngcontent-%COMP%]:first-child[dir=rtl], [dir=rtl][_ngcontent-%COMP%]   .mdc-dialog__button[_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl][_ngcontent-%COMP%]   .mdc-dialog__button[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .mdc-dialog[_ngcontent-%COMP%]   .mdc-dialog__button[_ngcontent-%COMP%]{text-align:left}.mdc-dialog--stacked[_ngcontent-%COMP%]   .mdc-dialog__button[_ngcontent-%COMP%]:not(:first-child){margin-top:12px}.mdc-dialog--closing[_ngcontent-%COMP%], .mdc-dialog--open[_ngcontent-%COMP%], .mdc-dialog--opening[_ngcontent-%COMP%]{display:flex}.mdc-dialog--opening[_ngcontent-%COMP%]   .mdc-dialog__scrim[_ngcontent-%COMP%]{transition:opacity .15s linear}.mdc-dialog--opening[_ngcontent-%COMP%]   .mdc-dialog__container[_ngcontent-%COMP%]{transition:opacity 75ms linear,transform .15s cubic-bezier(0,0,.2,1) 0ms}.mdc-dialog--closing[_ngcontent-%COMP%]   .mdc-dialog__container[_ngcontent-%COMP%], .mdc-dialog--closing[_ngcontent-%COMP%]   .mdc-dialog__scrim[_ngcontent-%COMP%]{transition:opacity 75ms linear}.mdc-dialog--closing[_ngcontent-%COMP%]   .mdc-dialog__container[_ngcontent-%COMP%]{transform:scale(1)}.mdc-dialog--open[_ngcontent-%COMP%]   .mdc-dialog__scrim[_ngcontent-%COMP%]{opacity:1}.mdc-dialog--open[_ngcontent-%COMP%]   .mdc-dialog__container[_ngcontent-%COMP%]{transform:scale(1);opacity:1}.mdc-dialog-scroll-lock[_ngcontent-%COMP%]{overflow:hidden}.mdc-dialog[_ngcontent-%COMP%]{z-index:12}.mdc-dialog__surface[_ngcontent-%COMP%]{background-color:#262626!important}.mdc-dialog__title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.mdc-dialog__content[_ngcontent-%COMP%], .mdc-dialog__title[_ngcontent-%COMP%]{font-family:IranSans,serif;color:#fff!important}.mdc-dialog__content[_ngcontent-%COMP%]{font-size:.9rem}.mdc-dialog__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:7px;color:#fff}.mdc-dialog__scrim[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)!important}.no-items-found[_ngcontent-%COMP%]{position:absolute;right:0;left:0;top:45%;width:100%;text-align:center}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{min-height:215px;margin-top:8px;margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid hsla(0,0%,100%,.5)}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-child{margin-top:15px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{margin-bottom:15px}.container[_ngcontent-%COMP%]   .row.disable[_ngcontent-%COMP%]{opacity:.5}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{padding-bottom:0;border-bottom:unset}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{max-width:100%;border-radius:5px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#fdc13c}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .dl-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .dl-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{margin-left:0}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .dl-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{margin-top:15px;direction:ltr}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.movie-image-container[_ngcontent-%COMP%]{display:inline-block;min-height:100px;position:relative}.movie-image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{display:block}.movie-image-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;background-color:rgba(41,41,41,.7);transition:opacity .1s}.movie-image-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .match-parent[_ngcontent-%COMP%]{position:relative}.movie-image-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .match-parent[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]{text-align:center;position:absolute;top:calc(50% - 24px);right:0;left:0;z-index:2}.movie-image-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .match-parent[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px}']}),n})()}];let u=(()=>{class n{}return n.\u0275mod=d.Fb({type:n}),n.\u0275inj=d.Eb({factory:function(t){return new(t||n)},imports:[[e.g.forChild(x)],e.g]}),n})();var y=o("PCNd");let v=(()=>{class n{}return n.\u0275mod=d.Fb({type:n}),n.\u0275inj=d.Eb({factory:function(t){return new(t||n)},providers:[l],imports:[[y.a,u]]}),n})()}}]);